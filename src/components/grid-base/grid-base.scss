@import "../common/_base";
@import "../common/common-styling-config";

$grid-content-selector: "& > [slot='grid-content']:not(virtual-scroller), & > * > .scrollable-content";

.gx-grid-base {
  flex: 1;
  align-self: stretch;

  @include transition-properties();

  // This custom var is defined in each grid (gx-grid-flex, gx-grid-horizontal
  // and gx-grid-smart-css), and those grids always have the "gx-grid-base" class.
  overflow: var(--gx-overflow-style); // Required for gx-loading's positioning

  // When the grid has horizontal scroll (overflow-x: auto), there is no need
  // to allow "overflow: visible", since it won't be visible
  // (due to overflow-x: auto)
  &[direction="horizontal"] {
    overflow: hidden;
  }

  #{$grid-content-selector} {
    flex: 1;
  }

  & > .grid-empty-placeholder {
    @include visibility(none);
  }

  & > .grid-empty-placeholder > [slot="grid-content-empty"] {
    flex: 1;
    align-self: stretch;
  }
}

// Show the empty placeholder if the grid was loaded with no items
.gx-grid-base.gx-grid-empty:not(.gx-grid-loading) {
  & > :first-child {
    @include visibility(none);
  }

  .grid-empty-placeholder {
    @include visibility(flex);
    flex: 1;
    height: 100%;
  }
}

.gx-grid-base.gx-grid-empty {
  #{$grid-content-selector},
  .gx-grid-paging {
    @include visibility(none);
  }
}

// The grid is loading
.gx-grid-base.gx-grid-empty-loading {
  & > :first-child {
    @include visibility(none);
  }
}

// If the grid loaded, hide the loader (slot="grid-empty-loading-placeholder")
.gx-grid-base:not(.gx-grid-empty-loading) > gx-loading {
  display: none;
}
