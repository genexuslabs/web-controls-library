@import "../common/_base";
@import "../common/_image-position";

@mixin imageMargin($position, $value) {
  &.gx-image-position--#{$position} {
    [slot="main-image"],
    [slot="disabled-image"] {
      @if ($position == "before" or $position == "after") {
        margin: 0 $value;
      }
      @if ($position == "above" or $position == "below") {
        margin: $value 0;
      }
    }
  }
}

gx-tab-caption {
  @include visibility(inline-block);

  @include imagePosition("a", ":not(.gx-tab-caption--active)");

  [slot="main-image"],
  [slot="disabled-image"] {
    max-height: 18px;
    max-width: 18px;
    object-fit: contain;
  }
  @include imageMargin("before", var(--tab-caption-image-vertical-margin));
  @include imageMargin("after", var(--tab-caption-image-vertical-margin));
  @include imageMargin("above", var(--tab-caption-image-horizontal-margin));
  @include imageMargin("below", var(--tab-caption-image-horizontal-margin));

  background-color: inherit;
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;

  &.gx-tab-caption {
    height: 100%;
    transition: filter 0.25s;

    .gx-nav-link {
      display: flex;
      height: 100%;
      padding: var(--tab-caption-vertical-padding)
        var(--tab-caption-horizontal-padding);
      background-color: inherit;
      border: 1px solid transparent;
      border-bottom-color: var(--tab-caption-border-color);
      transition: background-color 0.375s, color 0.375s, border-color 0.375s;
      white-space: nowrap;

      &,
      &:active,
      &:focus,
      &:hover,
      &:visited {
        color: inherit;
        text-decoration: none;
        outline: 0;
      }

      &:focus:not(:active) {
        border-color: var(--tab-caption-focus-border-color);
      }

      & > span {
        padding-top: 0.125em;
      }
    }

    &--active {
      .gx-nav-link {
        border-top: 3px solid var(--tab-caption-active-border-color);
        padding-top: calc(var(--tab-caption-vertical-padding) - 2px);

        border-right-color: var(--tab-caption-border-color);
        border-bottom-color: transparent;
        border-left-color: var(--tab-caption-border-color);
      }
    }

    &[aria-selected="false"]:hover:not(:active) {
      filter: brightness(90%);
    }

    &--disabled {
      color: var(--tab-caption-disabled-color);
    }
  }
}
